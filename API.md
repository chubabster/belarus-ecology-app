# üì° API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REST API –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "–≠–∫–æ–ª–æ–≥–∏—è –ë–µ–ª–∞—Ä—É—Å–∏"

## –ë–∞–∑–æ–≤—ã–π URL

```
http://localhost:3000/api
```

---

## üå≤ –ü—Ä–æ–±–ª–µ–º—ã (Problems)

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã

**Endpoint:** `GET /problems`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `severity` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/problems
curl http://localhost:3000/api/problems?category=–í–æ–¥–∞
curl http://localhost:3000/api/problems?severity=–≤—ã—Å–æ–∫–∞—è
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "count": 6,
  "data": [
    {
      "id": 1,
      "title": "–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–¥–æ—ë–º–æ–≤",
      "description": "–†–µ–∫–∏ –∏ –æ–∑—ë—Ä–∞ –ë–µ–ª–∞—Ä—É—Å–∏ —Å—Ç—Ä–∞–¥–∞—é—Ç...",
      "category": "–í–æ–¥–∞",
      "severity": "–≤—ã—Å–æ–∫–∞—è",
      "image_url": "water-pollution.jpg",
      "created_at": "2026-02-09T12:00:00.000Z"
    }
  ]
}
```

### –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –ø–æ ID

**Endpoint:** `GET /problems/:id`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/problems/1
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "title": "–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–¥–æ—ë–º–æ–≤",
    "description": "–†–µ–∫–∏ –∏ –æ–∑—ë—Ä–∞ –ë–µ–ª–∞—Ä—É—Å–∏ —Å—Ç—Ä–∞–¥–∞—é—Ç...",
    "category": "–í–æ–¥–∞",
    "severity": "–≤—ã—Å–æ–∫–∞—è",
    "image_url": "water-pollution.jpg",
    "created_at": "2026-02-09T12:00:00.000Z"
  }
}
```

### –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–±–ª–µ–º—ã

**Endpoint:** `GET /problems/:id/solutions`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/problems/1/solutions
```

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø—Ä–æ–±–ª–µ–º—É

**Endpoint:** `POST /problems`

**Body:**
```json
{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã",
  "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è",
  "severity": "—Å—Ä–µ–¥–Ω—è—è",
  "image_url": "image.jpg"
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:3000/api/problems \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–≠—Ä–æ–∑–∏—è –ø–æ—á–≤",
    "description": "–ü—Ä–æ–±–ª–µ–º–∞ —ç—Ä–æ–∑–∏–∏ –ø–æ—á–≤ –≤ —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞–π–æ–Ω–∞—Ö",
    "category": "–ü–æ—á–≤–∞",
    "severity": "—Å—Ä–µ–¥–Ω—è—è"
  }'
```

---

## üí° –†–µ—à–µ–Ω–∏—è (Solutions)

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ—à–µ–Ω–∏—è

**Endpoint:** `GET /solutions`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `level` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π, –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π)
- `difficulty` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (–ª–µ–≥–∫–æ, —Å—Ä–µ–¥–Ω–µ, —Å–ª–æ–∂–Ω–æ)
- `impact` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–ª–∏—è–Ω–∏—é (–≤—ã—Å–æ–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π, –Ω–∏–∑–∫–∏–π)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/solutions
curl http://localhost:3000/api/solutions?level=–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π
curl http://localhost:3000/api/solutions?difficulty=–ª–µ–≥–∫–æ&impact=–≤—ã—Å–æ–∫–∏–π
```

### –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø–æ ID

**Endpoint:** `GET /solutions/:id`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/solutions/1
```

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**Endpoint:** `POST /solutions`

**Body:**
```json
{
  "problem_id": 1,
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è",
  "level": "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π",
  "difficulty": "–ª–µ–≥–∫–æ",
  "impact": "—Å—Ä–µ–¥–Ω–∏–π"
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:3000/api/solutions \
  -H "Content-Type: application/json" \
  -d '{
    "problem_id": 1,
    "title": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è –≤–æ–¥—ã",
    "description": "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤–æ–¥—ã",
    "level": "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π",
    "difficulty": "–ª–µ–≥–∫–æ",
    "impact": "—Å—Ä–µ–¥–Ω–∏–π"
  }'
```

---

## üí≠ –ò–¥–µ–∏ (Ideas)

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∏–¥–µ–∏

**Endpoint:** `GET /ideas`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `status` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `sort` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (votes, date)
- `order` - –ø–æ—Ä—è–¥–æ–∫ (asc, desc)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/ideas
curl http://localhost:3000/api/ideas?sort=votes&order=desc
curl http://localhost:3000/api/ideas?category=–í–æ–¥–∞
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "count": 15,
  "data": [
    {
      "id": 1,
      "author_name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤",
      "title": "–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–æ—Ç—Ä–æ–ø –≤ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø–∞—Ä–∫–∞—Ö",
      "description": "–ü—Ä–µ–¥–ª–∞–≥–∞—é —Å–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç—Ä–æ–ø—ã...",
      "category": "–õ–µ—Å–∞",
      "votes": 42,
      "status": "–Ω–æ–≤–∞—è",
      "created_at": "2026-02-09T12:00:00.000Z",
      "updated_at": "2026-02-09T12:00:00.000Z"
    }
  ]
}
```

### –ü–æ–ª—É—á–∏—Ç—å –∏–¥–µ—é –ø–æ ID

**Endpoint:** `GET /ideas/:id`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl http://localhost:3000/api/ideas/1
```

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–¥–µ—é

**Endpoint:** `POST /ideas`

**Body:**
```json
{
  "author_name": "–ò–º—è –∞–≤—Ç–æ—Ä–∞",
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –∏–¥–µ–∏",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∏–¥–µ–∏",
  "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è"
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:3000/api/ideas \
  -H "Content-Type: application/json" \
  -d '{
    "author_name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
    "title": "–í–µ–ª–æ—Å–∏–ø–µ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–∫–∏ –≤ –≥–æ—Ä–æ–¥–µ",
    "description": "–ü—Ä–µ–¥–ª–∞–≥–∞—é —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–µ—Ç—å –≤–µ–ª–æ–¥–æ—Ä–æ–∂–µ–∫ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –≤—ã–±—Ä–æ—Å–æ–≤",
    "category": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç"
  }'
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "message": "–ò–¥–µ—è —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞",
  "data": {
    "id": 16,
    "author_name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
    "title": "–í–µ–ª–æ—Å–∏–ø–µ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–∫–∏ –≤ –≥–æ—Ä–æ–¥–µ",
    "description": "–ü—Ä–µ–¥–ª–∞–≥–∞—é —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–µ—Ç—å –≤–µ–ª–æ–¥–æ—Ä–æ–∂–µ–∫...",
    "category": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
    "votes": 0,
    "status": "–Ω–æ–≤–∞—è",
    "created_at": "2026-02-09T14:30:00.000Z",
    "updated_at": "2026-02-09T14:30:00.000Z"
  }
}
```

### –û–±–Ω–æ–≤–∏—Ç—å –∏–¥–µ—é

**Endpoint:** `PUT /ideas/:id`

**Body:** (–≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)
```json
{
  "author_name": "–ù–æ–≤–æ–µ –∏–º—è",
  "title": "–ù–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
  "description": "–ù–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "category": "–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è",
  "status": "–æ–¥–æ–±—Ä–µ–Ω–∞"
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X PUT http://localhost:3000/api/ideas/1 \
  -H "Content-Type: application/json" \
  -d '{
    "status": "–æ–¥–æ–±—Ä–µ–Ω–∞"
  }'
```

### –£–¥–∞–ª–∏—Ç—å –∏–¥–µ—é

**Endpoint:** `DELETE /ideas/:id`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X DELETE http://localhost:3000/api/ideas/1
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "message": "–ò–¥–µ—è —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞",
  "data": {
    "id": 1,
    "author_name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤",
    "title": "–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–æ—Ç—Ä–æ–ø –≤ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø–∞—Ä–∫–∞—Ö",
    ...
  }
}
```

### –ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ –∏–¥–µ—é

**Endpoint:** `POST /ideas/:id/vote`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST http://localhost:3000/api/ideas/1/vote
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "message": "–ì–æ–ª–æ—Å —É—á—Ç—ë–Ω",
  "data": {
    "id": 1,
    "author_name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤",
    "title": "–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–æ—Ç—Ä–æ–ø –≤ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –ø–∞—Ä–∫–∞—Ö",
    "votes": 43,
    ...
  }
}
```

---

## ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "success": false,
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "message": "–î–µ—Ç–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ"
}
```

### –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- `200` - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `201` - –†–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üîê –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ API –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type: application/json` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ª—é–±—ã—Ö –¥–æ–º–µ–Ω–æ–≤

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### JavaScript (Fetch API)

```javascript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã
const problems = await fetch('http://localhost:3000/api/problems')
  .then(res => res.json());

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–¥–µ—é
const newIdea = await fetch('http://localhost:3000/api/ideas', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    author_name: '–ò–º—è',
    title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ',
    category: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è'
  })
}).then(res => res.json());

// –ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ –∏–¥–µ—é
const voteResult = await fetch('http://localhost:3000/api/ideas/1/vote', {
  method: 'POST'
}).then(res => res.json());
```

### Python (requests)

```python
import requests

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã
response = requests.get('http://localhost:3000/api/problems')
problems = response.json()

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–¥–µ—é
new_idea = {
    'author_name': '–ò–º—è',
    'title': '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
    'description': '–û–ø–∏—Å–∞–Ω–∏–µ',
    'category': '–ö–∞—Ç–µ–≥–æ—Ä–∏—è'
}
response = requests.post(
    'http://localhost:3000/api/ideas',
    json=new_idea
)
result = response.json()
```

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –Ω–∞ 09.02.2026**
